!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).oid={})}(this,(function(e){"use strict";var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r={nativeRequire:function(e){var t;if("function"==typeof(t="undefined"!=typeof __webpack_modules__?"function"==typeof __tybys_get_native_require__?__tybys_get_native_require__():"undefined"!=typeof __non_webpack_require__?__non_webpack_require__:undefined:"undefined"!=typeof __webpack_modules__?"undefined"!=typeof __non_webpack_require__?__non_webpack_require__:undefined:"undefined"!=typeof require?require:undefined)){var r,i=function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){if("undefined"!=typeof globalThis)return globalThis;if("undefined"==typeof __webpack_modules__&&void 0!==n)return n;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self}return t||void 0}();if(!(i&&i.process&&i.process.versions&&"string"==typeof i.process.versions.node))return t;if(t===i.require)return t;try{r=t("module")}catch(o){return t}return(r=r||r.Module)&&e instanceof r?"function"==typeof r.createRequire?r.createRequire(e.filename):"function"==typeof r.createRequireFromPath?r.createRequireFromPath(e.filename):function(e,t){var n=e.constructor;function r(t){return e.require(t)}function i(e,t){if("string"!=typeof e)throw new TypeError('The "'+t+'" argument must be of type string. Received type '+typeof e)}function o(t,r){return i(t,"request"),n._resolveFilename(t,e,!1,r)}return r.resolve=o,o.paths=function(t){return i(t,"request"),n._resolveLookupPaths(t,e)},r.main=t,r.extensions=n._extensions,r.cache=n._cache,r}(e,i.process.mainModule instanceof r?i.process.mainModule:undefined):t}return t}()}.nativeRequire;try{t=r("buffer").Buffer}catch(v){}var i=Object.prototype.toString;function o(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)}(e)}function s(e){if(t)return t.alloc(e);var n;if("undefined"!=typeof Uint8Array)return new Uint8Array(e);var r=[];for(n=0;n<e;n++)r[n]=0;return r}function a(e){if(e=e||0,t&&t.isBuffer(this))return this.readUInt32BE(e);var n=this[e],r=this[e+3];if(n===undefined||r===undefined)throw new RangeError("Attempt to write outside buffer bounds");return n*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r}function f(e){if(t)return t.from(this).toString(e);var n,r,i,o,s,a="",f=0;if("hex"===e){for(a="",f=0;f<this.length;f++){var u=this[f].toString(16);a+=1===u.length?"0"+u:u}return a}if("binary"===e){for(a="",f=0;f<this.length;f++)a+=String.fromCharCode(this[f]);return a}for(n="",r=this.length,f=0;f<r;)switch((i=this[f++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=String.fromCharCode(i);break;case 12:case 13:o=this[f++],n+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=this[f++],s=this[f++],n+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&s)<<0)}return n}function u(e){for(var t=s(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}var c=u;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues&&"undefined"!=typeof Uint8Array)c=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{c=r("crypto").randomBytes}catch(v){}null==c&&(c=u)}function d(e,t){return function(){console.warn(t);var n=Array.prototype.slice.call(arguments);return e.apply(this,n)}}var h,p=c(5),g=new RegExp("^[0-9a-fA-F]{24}$"),l=[];for(h=0;h<256;h++)l[h]=(h<=15?"0":"")+h.toString(16);var y,_=[];for(h=0;h<10;)_[48+h]=h++;for(;h<16;)_[55+h]=_[87+h]=h++;function w(e){if(!(this instanceof w))throw new TypeError("Class constructor ObjectId cannot be invoked without 'new'");if(e instanceof w)return e;if(null==e||"number"==typeof e)return this.id=w.generate(e),void(w.cacheHexString&&(this.__id=this.toString("hex")));var n=w.isValid(e);if(!n&&null!=e)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"==typeof e&&24===e.length&&t)return new w(t.from(e,"hex"));if(n&&"string"==typeof e&&24===e.length)return w.createFromHexString(e);if(null==e||12!==e.length){if(null!=e&&e.toHexString)return w.createFromHexString(e.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}o(e)?this.id=function(e){if(t)return t.from(e);var n;if("undefined"!=typeof Uint8Array){if("function"==typeof Uint8Array.from)return Uint8Array.from(e);var r=new Uint8Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n];return r}var i=[];for(n=0;n<e.length;n++)i[n]=e[n];return i}(e):this.id=e,w.cacheHexString&&(this.__id=this.toString("hex"))}w.prototype.toHexString=function(){if(w.cacheHexString&&this.__id)return this.__id;var e,t,n,r,i="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(o(this.id))return e=this.id,i=f.call(e,"hex"),w.cacheHexString&&(this.__id=i),i;for(var s=0;s<this.id.length;s++){var a=l[this.id.charCodeAt(s)];if("string"!=typeof a)throw t=this.id,r=void 0,r=t[n=s],new TypeError('ObjectId string "'+t+'" contains invalid character "'+r+'" with character code ('+t.charCodeAt(n)+"). All character codes for a non-hex string must be less than 256.");i+=a}return w.cacheHexString&&(this.__id=i),i},w.getInc=function(){return w.index=(w.index+1)%16777215},w.generate=function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3));var t=w.getInc(),n=s(12);return n[3]=255&e,n[2]=e>>8&255,n[1]=e>>16&255,n[0]=e>>24&255,n[4]=p[0],n[5]=p[1],n[6]=p[2],n[7]=p[3],n[8]=p[4],n[11]=255&t,n[10]=t>>8&255,n[9]=t>>16&255,n},w.prototype.toString=function(e){return o(this.id)?f.call(this.id,"string"==typeof e?e:"hex"):this.toHexString()},w.prototype.toJSON=function(){return this.toHexString()},w.prototype.equals=function(e){return e instanceof w?this.toString()===e.toString():"string"==typeof e&&w.isValid(e)&&12===e.length&&o(this.id)?e===f.call(this.id,"binary"):"string"==typeof e&&w.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&w.isValid(e)&&12===e.length?e===this.id:!(null==e||!(e instanceof w||e.toHexString))&&e.toHexString()===this.toHexString()},w.prototype.getTimestamp=function(){var e=new Date,t=a.call(this.id,0);return e.setTime(1e3*Math.floor(t)),e},w.createPk=function(){return new w},w.createFromTime=function(e){var t=s(12);return t[3]=255&e,t[2]=e>>8&255,t[1]=e>>16&255,t[0]=e>>24&255,new w(t)},w.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t=s(12),n=0,r=0;r<24;)t[n++]=_[e.charCodeAt(r++)]<<4|_[e.charCodeAt(r++)];return new w(t)},w.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&g.test(e):e instanceof w||(!(!o(e)||12!==e.length)||!!e.toHexString&&(12===e.id.length||24===e.id.length&&g.test(e.id)))))},w.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},w.fromExtendedJSON=function(e){return new w(e.$oid)},w.get_inc=d((function(){return w.getInc()}),"Please use the static `ObjectId.getInc()` instead"),w.prototype.get_inc=d((function(){return w.getInc()}),"Please use the static `ObjectId.getInc()` instead"),w.prototype.getInc=d((function(){return w.getInc()}),"Please use the static `ObjectId.getInc()` instead"),w.prototype.generate=d((function(e){return w.generate(e)}),"Please use the static `ObjectId.generate(time)` instead");try{Object.defineProperty(w.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}})}catch(S){w.prototype.generationTime=0}try{y=r("util"),w.prototype[y.inspect.custom||"inspect"]=w.prototype.toString}catch(v){w.prototype.inspect=w.prototype.toString}w.index=~~(16777215*Math.random());try{Object.defineProperty(w.prototype,"_bsontype",{value:"ObjectID"})}catch(S){w.prototype._bsontype="ObjectID"}var b=w,m={ObjectId:b};e.ObjectId=b,e["default"]=m,(function(){try{return Object.defineProperty(e,"__esModule",{value:!0})}catch(_){return e.__esModule=!0,e}})()}));
